{"ast":null,"code":"var _jsxFileName = \"/Users/ieric/CIS350_final_project/web_app/src/components/water.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-vis/dist/style.css';\nimport { XYPlot, XAxis, YAxis, HorizontalGridLines, LineSeries, DiscreteColorLegend } from 'react-vis';\nexport default class Water extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      waters: [],\n      goals: [],\n      ideal: [],\n      cups: 0,\n      cupsGoal: 0,\n      date: new Date(),\n      legend: [\"User Data\", \"Recommended Level\", \"Goal\"]\n    };\n    this.onChangeCups = this.onChangeCups.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeCupsGoal = this.onChangeCupsGoal.bind(this);\n    this.onSubmitGoal = this.onSubmitGoal.bind(this);\n  }\n\n  componentDidMount() {\n    var goalCups = 13;\n    axios.get('http://localhost:5000/water_goal/').then(response => {\n      if (response.data.length >= 1) {\n        goalCups = response.data[0]['cups'];\n      }\n    });\n    var e = [];\n    var f = [];\n    var g = [];\n    axios.get('http://localhost:5000/water_track/').then(response => {\n      var newArray = [];\n      var uniqueObject = {};\n\n      for (var i = response.data.length - 1; i >= 0; i--) {\n        var date = response.data[i]['date'];\n        uniqueObject[date] = response.data[i];\n      }\n\n      for (i in uniqueObject) {\n        newArray.push(uniqueObject[i]);\n      }\n\n      e = newArray.map(water => {\n        return {\n          x: new Date(water.date),\n          y: water.cups\n        };\n      });\n      this.setState({\n        waters: e\n      });\n      f = response.data.map(water => {\n        return {\n          x: new Date(water.date),\n          y: 13\n        };\n      });\n      this.setState({\n        ideal: f\n      });\n      g = response.data.map(water => {\n        return {\n          x: new Date(water.date),\n          y: goalCups\n        };\n      });\n      this.setState({\n        goals: g\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeCups(e) {\n    this.setState({\n      cups: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const water = {\n      cups: this.state.cups,\n      date: this.state.date\n    };\n    console.log(water);\n    axios.post('http://localhost:5000/water_track/add', water).then(res => console.log(res.data));\n  }\n\n  onChangeCupsGoal(e) {\n    this.setState({\n      cupsGoal: e.target.value\n    });\n  }\n\n  onSubmitGoal(e) {\n    e.preventDefault();\n    console.log(this.state.cupsGoal);\n    const water = {\n      cups: this.state.cupsGoal\n    };\n    console.log(water);\n    axios.post('http://localhost:5000/water_goal/add', water).then(res => console.log(res.data)).catch(error => {\n      console.log(error.response);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Create New Water Log\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Cups: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.cups,\n      onChange: this.onChangeCups,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Date: \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      selected: this.state.date,\n      onChange: this.onChangeDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create Water Log\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Set New Water Goal\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmitGoal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Cups: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.cupsGoal,\n      onChange: this.onChangeCupsGoal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Set Water Goal\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }))), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"View Water History\"), React.createElement(XYPlot, {\n      xType: \"time\",\n      height: 300,\n      width: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(HorizontalGridLines, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(XAxis, {\n      title: \"Date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(YAxis, {\n      title: \"Cups Drank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(DiscreteColorLegend, {\n      items: this.state.legend,\n      type: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(LineSeries, {\n      data: this.state.waters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(LineSeries, {\n      data: this.state.ideal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(LineSeries, {\n      data: this.state.goals,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/ieric/CIS350_final_project/web_app/src/components/water.component.js"],"names":["React","Component","axios","DatePicker","XYPlot","XAxis","YAxis","HorizontalGridLines","LineSeries","DiscreteColorLegend","Water","constructor","props","state","waters","goals","ideal","cups","cupsGoal","date","Date","legend","onChangeCups","bind","onChangeDate","onSubmit","onChangeCupsGoal","onSubmitGoal","componentDidMount","goalCups","get","then","response","data","length","e","f","g","newArray","uniqueObject","i","push","map","water","x","y","setState","catch","error","console","log","target","value","preventDefault","post","res","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;AACA,OAAO,0BAAP;AACA,SAAQC,MAAR,EAAgBC,KAAhB,EAAuBC,KAAvB,EAA8BC,mBAA9B,EAAmDC,UAAnD,EAA+DC,mBAA/D,QAAyF,WAAzF;AAGA,eAAe,MAAMC,KAAN,SAAoBT,SAApB,CAA8B;AAE3CU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,IAAI,EAAE,CAJK;AAKXC,MAAAA,QAAQ,EAAE,CALC;AAMXC,MAAAA,IAAI,EAAE,IAAIC,IAAJ,EANK;AAOXC,MAAAA,MAAM,EAAE,CAAC,WAAD,EAAc,mBAAd,EAAmC,MAAnC;AAPG,KAAb;AAUA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKG,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBH,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKI,YAAL,GAAoB,KAAKA,YAAL,CAAkBJ,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDK,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,QAAQ,GAAG,EAAf;AACA3B,IAAAA,KAAK,CAAC4B,GAAN,CAAU,mCAAV,EACCC,IADD,CACMC,QAAQ,IAAG;AACf,UAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAd,IAAwB,CAA3B,EAA6B;AAC3BL,QAAAA,QAAQ,GAAGG,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiB,MAAjB,CAAX;AACD;AACF,KALD;AAMA,QAAIE,CAAC,GAAG,EAAR;AACA,QAAIC,CAAC,GAAG,EAAR;AACA,QAAIC,CAAC,GAAG,EAAR;AACAnC,IAAAA,KAAK,CAAC4B,GAAN,CAAU,oCAAV,EACEC,IADF,CACOC,QAAQ,IAAI;AACf,UAAIM,QAAQ,GAAG,EAAf;AACA,UAAIC,YAAY,GAAG,EAAnB;;AACA,WAAK,IAAIC,CAAC,GAAGR,QAAQ,CAACC,IAAT,CAAcC,MAAd,GAAuB,CAApC,EAAuCM,CAAC,IAAI,CAA5C,EAA+CA,CAAC,EAAhD,EAAmD;AACjD,YAAIrB,IAAI,GAAGa,QAAQ,CAACC,IAAT,CAAcO,CAAd,EAAiB,MAAjB,CAAX;AACAD,QAAAA,YAAY,CAACpB,IAAD,CAAZ,GAAqBa,QAAQ,CAACC,IAAT,CAAcO,CAAd,CAArB;AACD;;AAED,WAAKA,CAAL,IAAUD,YAAV,EAAwB;AACtBD,QAAAA,QAAQ,CAACG,IAAT,CAAcF,YAAY,CAACC,CAAD,CAA1B;AACD;;AAGDL,MAAAA,CAAC,GAAGG,QAAQ,CAACI,GAAT,CAAcC,KAAD,IAAS;AACxB,eAAO;AAACC,UAAAA,CAAC,EAAE,IAAIxB,IAAJ,CAASuB,KAAK,CAACxB,IAAf,CAAJ;AAA0B0B,UAAAA,CAAC,EAAEF,KAAK,CAAC1B;AAAnC,SAAP;AACD,OAFG,CAAJ;AAIA,WAAK6B,QAAL,CAAc;AACZhC,QAAAA,MAAM,EAAEqB;AADI,OAAd;AAIAC,MAAAA,CAAC,GAAGJ,QAAQ,CAACC,IAAT,CAAcS,GAAd,CAAmBC,KAAD,IAAS;AAC7B,eAAO;AAACC,UAAAA,CAAC,EAAE,IAAIxB,IAAJ,CAASuB,KAAK,CAACxB,IAAf,CAAJ;AAA0B0B,UAAAA,CAAC,EAAE;AAA7B,SAAP;AACD,OAFG,CAAJ;AAGA,WAAKC,QAAL,CAAc;AACZ9B,QAAAA,KAAK,EAAEoB;AADK,OAAd;AAIAC,MAAAA,CAAC,GAAGL,QAAQ,CAACC,IAAT,CAAcS,GAAd,CAAmBC,KAAD,IAAS;AAC7B,eAAO;AAACC,UAAAA,CAAC,EAAE,IAAIxB,IAAJ,CAASuB,KAAK,CAACxB,IAAf,CAAJ;AAA0B0B,UAAAA,CAAC,EAAEhB;AAA7B,SAAP;AACD,OAFG,CAAJ;AAGA,WAAKiB,QAAL,CAAc;AACZ/B,QAAAA,KAAK,EAAEsB;AADK,OAAd;AAGD,KAnCH,EAoCEU,KApCF,CAoCSC,KAAD,IAAW;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACF,KAtCF;AAuCD;;AAED1B,EAAAA,YAAY,CAACa,CAAD,EAAI;AACd,SAAKW,QAAL,CAAc;AACZ7B,MAAAA,IAAI,EAAEkB,CAAC,CAACgB,MAAF,CAASC;AADH,KAAd;AAGD;;AAED5B,EAAAA,YAAY,CAACL,IAAD,EAAO;AACjB,SAAK2B,QAAL,CAAc;AACZ3B,MAAAA,IAAI,EAAEA;AADM,KAAd;AAGD;;AAEDM,EAAAA,QAAQ,CAACU,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACkB,cAAF;AACA,UAAMV,KAAK,GAAG;AACZ1B,MAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWI,IADL;AAEZE,MAAAA,IAAI,EAAE,KAAKN,KAAL,CAAWM;AAFL,KAAd;AAIA8B,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAzC,IAAAA,KAAK,CAACoD,IAAN,CAAW,uCAAX,EAAoDX,KAApD,EAA2DZ,IAA3D,CAAgEwB,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACtB,IAAhB,CAAvE;AAED;;AAEDP,EAAAA,gBAAgB,CAACS,CAAD,EAAI;AAClB,SAAKW,QAAL,CAAc;AACZ5B,MAAAA,QAAQ,EAAEiB,CAAC,CAACgB,MAAF,CAASC;AADP,KAAd;AAGD;;AAEDzB,EAAAA,YAAY,CAACQ,CAAD,EAAI;AACdA,IAAAA,CAAC,CAACkB,cAAF;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrC,KAAL,CAAWK,QAAvB;AACA,UAAMyB,KAAK,GAAG;AACZ1B,MAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWK;AADL,KAAd;AAGA+B,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAzC,IAAAA,KAAK,CAACoD,IAAN,CAAW,sCAAX,EAAmDX,KAAnD,EACCZ,IADD,CACMwB,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACtB,IAAhB,CADb,EAECc,KAFD,CAEOC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAAChB,QAAlB;AACD,KAJD;AAMD;;AAEDwB,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAM,MAAA,QAAQ,EAAE,KAAK/B,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,SAAS,EAAC,cAFd;AAGI,MAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWI,IAHtB;AAII,MAAA,QAAQ,EAAE,KAAKK,YAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAUE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AACE,MAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWM,IADvB;AAEE,MAAA,QAAQ,EAAE,KAAKK,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CAVF,EAmBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,kBAA3B;AAA8C,MAAA,SAAS,EAAC,iBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAnBF,CAFF,EAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAzBF,EA0BE;AAAM,MAAA,QAAQ,EAAE,KAAKG,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,SAAS,EAAC,cAFd;AAGI,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWK,QAHtB;AAII,MAAA,QAAQ,EAAE,KAAKQ,gBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAUE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,gBAA3B;AAA4C,MAAA,SAAS,EAAC,iBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAVF,CA1BF,EAwCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAxCF,EAyCE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAqB,MAAA,MAAM,EAAE,GAA7B;AAAkC,MAAA,KAAK,EAAG,GAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,oBAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE,KAAKb,KAAL,CAAWQ,MAAvC;AAA+C,MAAA,IAAI,EAAC,YAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKI,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAE,KAAKR,KAAL,CAAWC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWG,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOI,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAE,KAAKH,KAAL,CAAWE,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CAzCF,CADF;AAqDD;;AA5K0C","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-vis/dist/style.css';\nimport {XYPlot, XAxis, YAxis, HorizontalGridLines, LineSeries, DiscreteColorLegend} from 'react-vis';\n\n\nexport default class Water extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      waters: [],\n      goals: [],\n      ideal: [],\n      cups: 0,\n      cupsGoal: 0,\n      date: new Date(),\n      legend: [\"User Data\", \"Recommended Level\", \"Goal\"]\n    }\n\n    this.onChangeCups = this.onChangeCups.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.onChangeCupsGoal = this.onChangeCupsGoal.bind(this);\n    this.onSubmitGoal = this.onSubmitGoal.bind(this);\n  }\n\n  componentDidMount() {\n    var goalCups = 13\n    axios.get('http://localhost:5000/water_goal/')\n    .then(response =>{\n      if(response.data.length >= 1){\n        goalCups = response.data[0]['cups']\n      }\n    })\n    var e = []\n    var f = []\n    var g = []\n    axios.get('http://localhost:5000/water_track/')\n     .then(response => {\n        var newArray = []\n        var uniqueObject = {};\n        for (var i = response.data.length - 1; i >= 0; i--){\n          var date = response.data[i]['date']\n          uniqueObject[date] = response.data[i]\n        }\n\n        for (i in uniqueObject) {\n          newArray.push(uniqueObject[i]);\n        }\n\n\n        e = newArray.map((water)=>{\n          return {x: new Date(water.date), y: water.cups}\n        });\n\n        this.setState({\n          waters: e\n        });\n\n        f = response.data.map((water)=>{\n          return {x: new Date(water.date), y: 13}\n        });\n        this.setState({\n          ideal: f\n        });\n\n        g = response.data.map((water)=>{\n          return {x: new Date(water.date), y: goalCups}\n        });\n        this.setState({\n          goals: g\n        });\n      })\n     .catch((error) => {\n        console.log(error);\n     })\n  }\n\n  onChangeCups(e) {\n    this.setState({\n      cups: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const water = {\n      cups: this.state.cups,\n      date: this.state.date,\n    };\n    console.log(water);\n    axios.post('http://localhost:5000/water_track/add', water).then(res => console.log(res.data));\n\n  }\n\n  onChangeCupsGoal(e) {\n    this.setState({\n      cupsGoal: e.target.value\n    });\n  }\n\n  onSubmitGoal(e) {\n    e.preventDefault();\n    console.log(this.state.cupsGoal)\n    const water = {\n      cups: this.state.cupsGoal,\n    };\n    console.log(water);\n    axios.post('http://localhost:5000/water_goal/add', water)\n    .then(res => console.log(res.data))\n    .catch(error => {\n      console.log(error.response)\n    })\n\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Create New Water Log</h3>\n        <form onSubmit={this.onSubmit}>\n          <div className=\"form-group\">\n            <label>Cups: </label>\n            <input\n                type=\"text\"\n                className=\"form-control\"\n                value={this.state.cups}\n                onChange={this.onChangeCups}\n                />\n          </div>\n          <div className=\"form-group\">\n            <label>Date: </label>\n            <div>\n              <DatePicker\n                selected={this.state.date}\n                onChange={this.onChangeDate}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <input type=\"submit\" value=\"Create Water Log\" className=\"btn btn-primary\" />\n          </div>\n        </form>\n        <h3>Set New Water Goal</h3>\n        <form onSubmit={this.onSubmitGoal}>\n          <div className=\"form-group\">\n            <label>Cups: </label>\n            <input\n                type=\"text\"\n                className=\"form-control\"\n                value={this.state.cupsGoal}\n                onChange={this.onChangeCupsGoal}\n                />\n          </div>\n          <div className=\"form-group\">\n            <input type=\"submit\" value=\"Set Water Goal\" className=\"btn btn-primary\" />\n          </div>\n        </form>\n        <h3>View Water History</h3>\n        <XYPlot xType=\"time\" height={300} width= {300}>\n          <HorizontalGridLines />\n          <XAxis title=\"Date\" />\n          <YAxis title=\"Cups Drank\"/>\n          <DiscreteColorLegend items={this.state.legend} type=\"horizontal\"/>\n            <LineSeries data={this.state.waters} />\n            <LineSeries data={this.state.ideal} />\n            <LineSeries data={this.state.goals} />\n        </XYPlot>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}